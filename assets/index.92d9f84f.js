import{c as v,R as x,r as s,d as n,F as r,j as e,m as D}from"./index.85311aa9.js";import{I as F,S as E,D as y}from"./index.baf453ee.js";import{S as c}from"./index.7c638be8.js";import{S as C,V,g as M}from"./index.a56973fd.js";import"./request.2516a5e0.js";import"./index.6178f709.js";const I=t=>{const[a,u]=s.exports.useState(!0),[m,d]=s.exports.useState([]),[l,p]=s.exports.useState(0),{videosList:h,enterLoading:i}=t,{getVideoListDispatch:f}=t;s.exports.useEffect(()=>{f()},[]);async function S(){return l>=5?[]:(await D(1e3),p(o=>o+1),h)}async function g(){const o=await S();d(L=>[...L,...o]),u(o.length>0)}return n(r,{children:[i?e(c,{animated:!0,className:"movie"}):e(C,{}),i?e(c.Paragraph,{lineCount:20,animated:!0}):n(r,{children:[e(V,{videoData:m}),e(F,{loadMore:g,hasMore:a,className:"recommend",children:e(({hasMore:o})=>e(r,{children:o?n("div",{style:{marginBottom:"2.5rem"},children:[e("span",{style:{fontSize:"0.7rem"},children:"\u4E00\u5927\u6CE2\u4FE1\u606F\u5411\u4F60\u98DE\u5954\u8FC7\u6765~"}),e(y,{})]}):e("div",{style:{marginBottom:"2.5rem"},children:e("span",{style:{fontSize:"0.7rem"},children:"--- \u6211\u662F\u6709\u5E95\u7EBF\u7684 ---"})})}),{hasMore:a})})]}),e(E,{})]})},R=t=>({enterLoading:t.home.enterLoading,videosList:t.home.videosList}),T=t=>({getVideoListDispatch(){t(M())}});var q=v(R,T)(x.memo(I));export{q as default};
