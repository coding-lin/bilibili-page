import{c as D,R as x,r as s,d as n,F as i,j as e,m as F}from"./index.49bc75a5.js";import{D as E}from"./index.31f27427.js";import{I as V,S as y}from"./index.1447e002.js";import{S as m}from"./index.7e79e3df.js";import{S as C,V as M}from"./index.0127762e.js";import{g as I,b as R}from"./actionCreators.700b01d4.js";import"./index.8e5b60dc.js";import"./index.c01dbf7e.js";import"./attach-properties-to-component.6acef87d.js";import"./index.403316ef.js";import"./index.77a6de17.js";import"./request.6c9dfb78.js";const T=o=>{const[r,u]=s.exports.useState(!0),[p,l]=s.exports.useState([]),[a,h]=s.exports.useState(0),{videosList:c,enterLoading:d}=o,{getVideoListDispatch:f,addDispatch:S}=o;s.exports.useEffect(()=>{f()},[]);async function g(){return a>=5?[]:(await F(1e3),h(t=>t+1),c.map(t=>a>=1?{...t,id:t.id=t.id+c.length}:{...t}))}async function L(){const t=await g();l(v=>[...v,...t]),u(t.length>0)}return n(i,{children:[d?e(m,{animated:!0,className:"movie"}):e(C,{}),d?e(m.Paragraph,{lineCount:20,animated:!0}):n(i,{children:[e(M,{videoData:p,addDispatch:S}),e(V,{loadMore:L,hasMore:r,className:"recommend",children:e(({hasMore:t})=>e(i,{children:t?n("div",{style:{marginBottom:"2.5rem"},children:[e("span",{style:{fontSize:"0.7rem"},children:"\u4E00\u5927\u6CE2\u4FE1\u606F\u5411\u4F60\u98DE\u5954\u8FC7\u6765~"}),e(E,{})]}):e("div",{style:{marginBottom:"2.5rem"},children:e("span",{style:{fontSize:"0.7rem"},children:"--- \u6211\u662F\u6709\u5E95\u7EBF\u7684 ---"})})}),{hasMore:r})})]}),e(y,{top:1800})]})},j=o=>({enterLoading:o.home.enterLoading,videosList:o.home.videosList}),B=o=>({getVideoListDispatch(){o(I())},addDispatch(r){o(R(r))}});var K=D(j,B)(x.memo(T));export{K as default};
