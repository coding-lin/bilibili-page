import{r as a,w as g,z as w,A as p,V as P,W as h,X as O,Y as R,y as S,R as f,j as i,Z as $,$ as x,a0 as B,a1 as E,a2 as N}from"./index.2ef2ee1b.js";var j=!!(typeof window!="undefined"&&window.document&&window.document.createElement),M=j,_=M?a.exports.useLayoutEffect:a.exports.useEffect,m=_;const I={closeOnMaskClick:!1,destroyOnClose:!1,disableBodyScroll:!0,forceRender:!1,getContainer:()=>document.body,mask:!0,showCloseButton:!1,stopPropagation:["click"],visible:!1};function L(t){const[e,r]=a.exports.useState(t);return m(()=>{r(t)},[t]),e}const l="adm-popup",V=Object.assign(Object.assign({},I),{position:"bottom"}),A=t=>{const e=g(V,t),{locale:r}=w(),v=p(`${l}-body`,e.bodyClassName,`${l}-body-position-${e.position}`),[n,d]=a.exports.useState(e.visible);m(()=>{e.visible&&d(!0)},[e.visible]);const u=a.exports.useRef(null);P(u,e.disableBodyScroll&&n?"strict":!1);const b=h(),{percent:y}=O({percent:e.visible?0:100,config:{precision:.1,mass:.4,tension:300,friction:30},onRest:()=>{var s,o;b.current||(d(e.visible),e.visible?(s=e.afterShow)===null||s===void 0||s.call(e):(o=e.afterClose)===null||o===void 0||o.call(e))}}),C=L(n&&e.visible),k=R(e.stopPropagation,S(e,f.createElement("div",{className:l,onClick:e.onClick,style:{display:n?void 0:"none"}},e.mask&&i($,{visible:C,forceRender:e.forceRender,destroyOnClose:e.destroyOnClose,onMaskClick:s=>{var o,c;(o=e.onMaskClick)===null||o===void 0||o.call(e,s),e.closeOnMaskClick&&((c=e.onClose)===null||c===void 0||c.call(e))},className:e.maskClassName,style:e.maskStyle,disableBodyScroll:!1,stopPropagation:e.stopPropagation}),f.createElement(x.div,{className:v,style:Object.assign(Object.assign({},e.bodyStyle),{transform:y.to(s=>e.position==="bottom"?`translate(0, ${s}%)`:e.position==="top"?`translate(0, -${s}%)`:e.position==="left"?`translate(-${s}%, 0)`:e.position==="right"?`translate(${s}%, 0)`:"none")}),ref:u},e.showCloseButton&&i("a",{className:p(`${l}-close-icon`,"adm-plain-anchor"),onClick:()=>{var s;(s=e.onClose)===null||s===void 0||s.call(e)},role:"button","aria-label":r.common.close,children:i(B,{})}),e.children))));return i(E,{active:n,forceRender:e.forceRender,destroyOnClose:e.destroyOnClose,children:N(e.getContainer,k)})};var T=A;export{T as P,L as a,I as d,M as i,m as u};
