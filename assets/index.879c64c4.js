import{c as S,R as L,r as n,d as s,F as a,j as e,i as v}from"./index.8404c549.js";import{I as D,S as F,D as x}from"./index.885e9c45.js";import{S as c}from"./index.b0b59a5f.js";import{S as E,V,g as C}from"./index.6ac5bde4.js";import"./request.1786c4c4.js";import"./index.5ae111be.js";const M=t=>{const[i,u]=n.exports.useState(!0),[d,m]=n.exports.useState([]),{videosList:l,enterLoading:r}=t,{getVideoListDispatch:p}=t;n.exports.useEffect(()=>{p()},[]);async function h(){let o=0;return o>=5?[]:(await v(1e3),o++,l)}async function f(){const o=await h();m(g=>[...g,...o]),u(o.length>0)}return s(a,{children:[r?e(c,{animated:!0,className:"movie"}):e(E,{}),r?e(c.Paragraph,{lineCount:20,animated:!0}):s(a,{children:[e(V,{videoData:d}),e(D,{loadMore:f,hasMore:i,children:e(({hasMore:o})=>e(a,{children:o?s("div",{style:{marginBottom:"2.5rem"},children:[e("span",{children:"\u4E00\u5927\u6CE2\u4FE1\u606F\u5411\u4F60\u98DE\u5954\u8FC7\u6765~"}),e(x,{})]}):e("div",{style:{marginBottom:"2.5rem"},children:e("span",{children:"--- \u6211\u662F\u6709\u5E95\u7EBF\u7684 ---"})})}),{hasMore:i})})]}),e(F,{})]})},y=t=>({enterLoading:t.home.enterLoading,videosList:t.home.videosList}),I=t=>({getVideoListDispatch(){t(C())}});var q=S(y,I)(L.memo(M));export{q as default};
