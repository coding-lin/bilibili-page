import{r as h,v as te,x as xe,R as y,y as Ee,a5 as Oe,a6 as Re,a7 as Ce,X as ne,a3 as x,$ as V,j as c,a8 as X,a9 as Te,aa as Se,w as re,d as b,Z as ie,a2 as oe,ab as se,u as Me,F as Ae,Q as Ie,T as Ne}from"./index.5bf6a9d8.js";import{a as ae}from"./attach-properties-to-component.6acef87d.js";import{a as ze,b as ce}from"./index.2a91861f.js";import{i as ue}from"./index.a9635a26.js";import{M as $e,T as N,S as Fe}from"./index.8ac8cf85.js";function Y(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function H(e,t){if(!!ue){if(!e)return t;var n;return ze(e)?n=e():"current"in e?n=e.current:n=e,n}}var De=function(e){var t=function(n,r,i){var s=h.exports.useRef(!1),l=h.exports.useRef([]),u=h.exports.useRef([]),f=h.exports.useRef();e(function(){var a,d=Array.isArray(i)?i:[i],o=d.map(function(v){return H(v)});if(!s.current){s.current=!0,l.current=o,u.current=r,f.current=n();return}(o.length!==l.current.length||!Y(o,l.current)||!Y(r,u.current))&&((a=f.current)===null||a===void 0||a.call(f),l.current=o,u.current=r,f.current=n())}),ce(function(){var a;(a=f.current)===null||a===void 0||a.call(f),s.current=!1})};return t},le=De,Pe=le(h.exports.useEffect),We=Pe;function ke(e){var t=h.exports.useRef(0),n=te(h.exports.useState(e),2),r=n[0],i=n[1],s=h.exports.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(l)})},[]);return ce(function(){cancelAnimationFrame(t.current)}),[r,s]}var fe=function(){if(typeof Map!="undefined")return Map;function e(t,n){var r=-1;return t.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var l=s[i];n.call(r,l[1],l[0])}},t}()}(),G=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,D=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Le=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(D):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),je=2;function Be(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&u()}function l(){Le(s)}function u(){var f=Date.now();if(n){if(f-i<je)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=f}return u}var Ze=20,Ve=["top","right","bottom","left","width","height","size","weight"],He=typeof MutationObserver!="undefined",Ge=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Be(this.refresh.bind(this),Ze)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!G||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),He?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!G||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=Ve.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),de=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},C=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||D},he=k(0,0,0,0);function P(e){return parseFloat(e)||0}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var s=e["border-"+i+"-width"];return r+P(s)},0)}function qe(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var s=i[r],l=e["padding-"+s];n[s]=P(l)}return n}function Xe(e){var t=e.getBBox();return k(0,0,t.width,t.height)}function Ye(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return he;var r=C(e).getComputedStyle(e),i=qe(r),s=i.left+i.right,l=i.top+i.bottom,u=P(r.width),f=P(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+s)!==t&&(u-=K(r,"left","right")+s),Math.round(f+l)!==n&&(f-=K(r,"top","bottom")+l)),!Ue(e)){var a=Math.round(u+s)-t,d=Math.round(f+l)-n;Math.abs(a)!==1&&(u-=a),Math.abs(d)!==1&&(f-=d)}return k(i.left,i.top,u,f)}var Ke=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof C(e).SVGGraphicsElement}:function(e){return e instanceof C(e).SVGElement&&typeof e.getBBox=="function"}}();function Ue(e){return e===C(e).document.documentElement}function Qe(e){return G?Ke(e)?Xe(e):Ye(e):he}function Je(e){var t=e.x,n=e.y,r=e.width,i=e.height,s=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,l=Object.create(s.prototype);return de(l,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),l}function k(e,t,n,r){return{x:e,y:t,width:n,height:r}}var et=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Qe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),tt=function(){function e(t,n){var r=Je(n);de(this,{target:t,contentRect:r})}return e}(),nt=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new fe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof C(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new et(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof C(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(t)||(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new tt(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ve=typeof WeakMap!="undefined"?new WeakMap:new fe,me=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ge.getInstance(),r=new nt(t,n,this);ve.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){me.prototype[e]=function(){var t;return(t=ve.get(this))[e].apply(t,arguments)}});var rt=function(){return typeof D.ResizeObserver!="undefined"?D.ResizeObserver:me}(),it=le(h.exports.useLayoutEffect),ot=it,st=ue?ot:We,at=st;function U(e){var t=te(ke(function(){var i=H(e);return i?{width:i.clientWidth,height:i.clientHeight}:void 0}),2),n=t[0],r=t[1];return at(function(){var i=H(e);if(!!i){var s=new rt(function(l){l.forEach(function(u){var f=u.target,a=f.clientWidth,d=f.clientHeight;r({width:a,height:d})})});return s.observe(i),function(){s.disconnect()}}},[],e),n}const Q="adm-safe-area",ct=e=>xe(e,y.createElement("div",{className:Ee(Q,`${Q}-position-${e.position}`)}));var pe=ct;const ut=Oe([Re,Ce]),j=()=>[1,0,0,1,0,0],J=e=>e[4],ee=e=>e[5],z=e=>e[0],$=(e,t,n)=>ge([1,0,0,1,t,n],e),lt=(e,t,n=t)=>ge([t,0,0,n,0,0],e),ft=(e,[t,n])=>[e[0]*t+e[2]*n+e[4],e[1]*t+e[3]*n+e[5]],ge=(e,t)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]],B="adm-image-viewer",be=e=>{const{dragLockRef:t,maxZoom:n}=e,r=h.exports.useRef(null),i=h.exports.useRef(null),[{matrix:s},l]=ne(()=>({matrix:j(),config:{tension:200}})),u=U(r),f=U(i),a=h.exports.useRef(!1),d=(o,v,m=!1)=>{if(!u||!f)return o;const p=-u.width/2,_=-u.height/2,F=-f.width/2,L=-f.height/2,E=z(o),w=E*f.width,g=E*f.height,[O,R]=ft(o,[F,L]);if(v==="translate"){let S=O,M=R;if(w>u.width){const A=p-(w-u.width),I=p;S=m?x(O,A,I):X(O,A,I,E*50)}else S=-w/2;if(g>u.height){const A=_-(g-u.height),I=_;M=m?x(R,A,I):X(R,A,I,E*50)}else M=-g/2;return $(o,S-O,M-R)}if(v==="scale"&&m){const[S,M]=[w>u.width?x(O,p-(w-u.width),p):-w/2,g>u.height?x(R,_-(g-u.height),_):-g/2];return $(o,S-O,M-R)}return o};return ut({onDrag:o=>{if(o.first)return;if(o.pinching)return o.cancel();if(o.tap&&o.elapsedTime>0&&o.elapsedTime<1e3){e.onTap();return}const v=z(s.get());if(t&&(t.current=v!==1),!a.current&&v<=1)l.start({matrix:j()});else{const m=s.get(),p=[o.offset[0]-J(m),o.offset[1]-ee(m)],_=$(m,...o.last?[p[0]+o.velocity[0]*o.direction[0]*200,p[1]+o.velocity[1]*o.direction[1]*200]:p);l.start({matrix:d(_,"translate",o.last),immediate:!o.last})}},onPinch:o=>{var v;a.current=!o.last;const[m]=o.offset;if(m<0)return;let p;n==="auto"?p=u&&f?Math.max(u.height/f.height,u.width/f.width):1:p=n;const _=o.last?x(m,1,p):m;if((v=e.onZoomChange)===null||v===void 0||v.call(e,_),o.last&&_<=1)l.start({matrix:j()}),t&&(t.current=!1);else{if(!u)return;const F=s.get(),L=z(F),E=o.origin[0]-u.width/2,w=o.origin[1]-u.height/2;let g=$(F,-E,-w);g=lt(g,_/L),g=$(g,E,w),l.start({matrix:d(g,"scale",o.last),immediate:!o.last}),t&&(t.current=!0)}}},{target:r,drag:{from:()=>[J(s.get()),ee(s.get())],pointer:{touch:!0}},pinch:{from:()=>[z(s.get()),0],pointer:{touch:!0}}}),y.createElement("div",{className:`${B}-slide`,onPointerMove:o=>{z(s.get())!==1&&o.stopPropagation()}},y.createElement("div",{className:`${B}-control`,ref:r},y.createElement(V.div,{className:`${B}-image-wrapper`,style:{matrix:s}},c("img",{ref:i,src:e.image,draggable:!1,alt:e.image}))))},Z="adm-image-viewer",dt=h.exports.forwardRef((e,t)=>{const n=window.innerWidth+Te(16),[{x:r},i]=ne(()=>({x:e.defaultIndex*n,config:{tension:250,clamp:!0}})),s=e.images.length;function l(a,d=!1){var o;const v=x(a,0,s-1);(o=e.onIndexChange)===null||o===void 0||o.call(e,v),i.start({x:v*n,immediate:d})}h.exports.useImperativeHandle(t,()=>({swipeTo:l}));const u=h.exports.useRef(!1),f=Se(a=>{if(u.current)return;const[d]=a.offset;if(a.last){const o=Math.floor(d/n),v=o+1,m=Math.min(a.velocity[0]*2e3,n)*a.direction[0];l(x(Math.round((d+m)/n),o,v))}else i.start({x:d,immediate:!0})},{transform:([a,d])=>[-a,d],from:()=>[r.get(),0],bounds:()=>({left:0,right:(s-1)*n}),rubberband:!0,axis:"x",pointer:{touch:!0}});return y.createElement("div",Object.assign({className:`${Z}-slides`},f()),y.createElement(V.div,{className:`${Z}-indicator`},r.to(a=>`${x(Math.round(a/n),0,s-1)+1} / ${s}`)),y.createElement(V.div,{className:`${Z}-slides-inner`,style:{x:r.to(a=>-a)}},e.images.map((a,d)=>c(be,{image:a,onTap:e.onTap,maxZoom:e.maxZoom,onZoomChange:o=>{if(o!==1){const v=Math.round(r.get()/n);i.start({x:v*n})}},dragLockRef:u},d))))}),W="adm-image-viewer",_e={maxZoom:3,getContainer:null,visible:!1},we=e=>{var t;const n=re(_e,e),r=b(ie,{visible:n.visible,disableBodyScroll:!1,opacity:"thick",afterClose:n.afterClose,destroyOnClose:!0,children:[c("div",{className:`${W}-content`,children:n.image&&c(be,{image:n.image,onTap:()=>{var i;(i=n.onClose)===null||i===void 0||i.call(n)},maxZoom:n.maxZoom})}),n.image&&b("div",{className:`${W}-footer`,children:[(t=n.renderFooter)===null||t===void 0?void 0:t.call(n,n.image),c(pe,{position:"bottom"})]})]});return oe(n.getContainer,r)},ht=Object.assign(Object.assign({},_e),{defaultIndex:0}),ye=h.exports.forwardRef((e,t)=>{var n;const r=re(ht,e),[i,s]=h.exports.useState(r.defaultIndex),l=h.exports.useRef(null);h.exports.useImperativeHandle(t,()=>({swipeTo:(a,d)=>{var o;s(a),(o=l.current)===null||o===void 0||o.swipeTo(a,d)}}));const u=h.exports.useCallback(a=>{var d;s(a),(d=r.onIndexChange)===null||d===void 0||d.call(r,a)},[r.onIndexChange]),f=b(ie,{visible:r.visible,disableBodyScroll:!1,opacity:"thick",afterClose:r.afterClose,destroyOnClose:!0,children:[c("div",{className:`${W}-content`,children:r.images&&c(dt,{ref:l,defaultIndex:i,onIndexChange:u,images:r.images,onTap:()=>{var a;(a=r.onClose)===null||a===void 0||a.call(r)},maxZoom:r.maxZoom})}),r.images&&b("div",{className:`${W}-footer`,children:[(n=r.renderFooter)===null||n===void 0?void 0:n.call(r,r.images[i],i),c(pe,{position:"bottom"})]})]});return oe(r.getContainer,f)}),T=new Set;function vt(e){q();const t=se(y.createElement(we,Object.assign({},e,{afterClose:()=>{var n;T.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return T.add(t),t}function mt(e){q();const t=se(y.createElement(ye,Object.assign({},e,{afterClose:()=>{var n;T.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return T.add(t),t}function q(){T.forEach(e=>{e.close()}),T.clear()}const pt=ae(ye,{show:mt});var gt=ae(we,{Multi:pt,show:vt,clear:q});const Et=()=>{const e=Me(),[t,n]=h.exports.useState(!1),[r,i]=h.exports.useState(!1),[s,l]=h.exports.useState(!1);return b(Ae,{children:[c("div",{className:"back-icon",children:c("i",{className:"iconfont icon-fanhuijiantou",onClick:()=>e(-1)})}),c("div",{className:"sousuo-icon",onClick:()=>{i(!0)},children:c("i",{className:"iconfont icon-sousuo"})}),c(gt,{image:"https://img01.anzhiy.cn/useruploads/113/2023/03/31/642688586e8a9.jpg",visible:r,onClose:()=>{i(!1)}}),c($e,{className:"share",onClick:()=>{n(!0)}}),c("div",{className:"bg-img",children:c("img",{src:"https://img01.anzhiy.cn/useruploads/113/2023/03/30/64254aee57d84.jpg",alt:""})}),b("div",{className:"info",children:[c("div",{className:"avatar",children:c("img",{src:Ie,alt:""})}),b("div",{className:"detail",children:[b("div",{children:[c("span",{className:"data",children:"1"}),c("p",{children:"\u7C89\u4E1D"})]}),b("div",{children:[c("span",{children:"34"}),c("p",{children:"\u5173\u6CE8"})]}),b("div",{children:[c("span",{children:"10"}),c("p",{children:"\u83B7\u8D5E"})]})]}),c("div",{className:"edit",onClick:()=>Ne.show("\u6682\u4E0D\u652F\u6301\u7F16\u8F91"),children:c("span",{children:"\u7F16\u8F91\u8D44\u6599"})}),c("div",{className:"username",children:c("span",{children:"dafenqi616"})}),c("div",{className:"vip",children:c("img",{src:"https://img01.anzhiy.cn/useruploads/113/2023/03/30/64259d5d149e7.png",alt:""})}),b("div",{className:"schlool",children:[c("img",{src:"https://img01.anzhiy.cn/useruploads/113/2023/03/30/64259ca543116.png",alt:""}),c("span",{onClick:()=>l(!s),children:s?"\u6536\u8D77":"\u8BE6\u60C5"})]}),s?c("div",{className:"details",children:c("span",{children:"\u70ED\u7231\u751F\u6D3B \u8BB0\u5F97\u5FEB\u4E50"})}):""]}),b(N,{defaultActiveKey:"home",children:[c(N.Tab,{title:"\u4E3B\u9875",children:"\u4E3B\u9875"},"home"),c(N.Tab,{title:"\u52A8\u6001",children:"\u52A8\u6001"},"trends"),c(N.Tab,{title:"\u6295\u7A3F",children:"\u6295\u7A3F"},"contribute"),c(N.Tab,{title:"\u6536\u85CF",children:"\u6536\u85CF"},"collect")]}),c(Fe,{visible:t,setVisible:n})]})};export{Et as default};
