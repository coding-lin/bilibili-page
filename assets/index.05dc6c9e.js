import{c as v,R as D,r as s,d as c,F as d,j as o,m as V}from"./index.04a8343c.js";import{S as m}from"./index.58240bda.js";import{S as M,V as R}from"./index.12988963.js";import{N as T,S as j}from"./index.2b08ee75.js";import{g as w,b as N}from"./actionCreators.0028afe8.js";import"./attach-properties-to-component.6acef87d.js";import"./index.b9d2ed11.js";import"./index.0ca34cc7.js";import"./index.a211f1ad.js";import"./index.cde84e63.js";import"./index.e0a9c5f5.js";import"./request.df35fd8f.js";const P=e=>{const[a,p]=s.exports.useState(!0),[u,l]=s.exports.useState([]),[r,f]=s.exports.useState(0),{videosList:i,enterLoading:n}=e,{getVideoListDispatch:h,addDispatch:g}=e;s.exports.useEffect(()=>{h()},[]);async function S(){return r>=5?[]:(await V(1e3),f(t=>t+1),i.map(t=>r>=1?{...t,id:t.id=t.id+i.length}:{...t}))}async function L(){const t=await S();l(x=>[...x,...t]),p(t.length>0)}return c(d,{children:[n?o(m,{animated:!0,className:"movie"}):o(M,{}),n?o(m.Paragraph,{lineCount:20,animated:!0}):c(d,{children:[o(R,{videoData:u,addDispatch:g}),o(T,{loadMore:L,hasMore:a})]}),o(j,{top:2e3})]})},k=e=>({enterLoading:e.home.enterLoading,videosList:e.home.videosList}),y=e=>({getVideoListDispatch(){e(w())},addDispatch(a){e(N(a))}});var J=v(k,y)(D.memo(P));export{J as default};
