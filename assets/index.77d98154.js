import{c as v,R as D,r as s,d as m,F as c,j as o,m as V}from"./index.6104a6e4.js";import{S as p}from"./index.efff46f9.js";import{S as M,V as R}from"./index.c67a3f90.js";import{N as T,S as j}from"./index.3966dd2d.js";import{g as w,b as N}from"./actionCreators.478b19a9.js";import"./attach-properties-to-component.6acef87d.js";import"./index.a0e78679.js";import"./MoreOutline.3a35fd9d.js";import"./index.7f1d5081.js";import"./index.4f5e7f66.js";import"./index.0286947d.js";import"./index.8e0e7866.js";import"./request.8a845f46.js";const P=t=>{const[a,d]=s.exports.useState(!0),[u,l]=s.exports.useState([]),[r,f]=s.exports.useState(0),{videosList:i,enterLoading:n}=t,{getVideoListDispatch:h,addDispatch:g}=t;s.exports.useEffect(()=>{h()},[]);async function S(){return r>=5?[]:(await V(1e3),f(e=>e+1),i.map(e=>r>=1?{...e,id:e.id+=i.length}:{...e}))}async function L(){const e=await S();l(x=>[...x,...e]),d(e.length>0)}return m(c,{children:[n?o(p,{animated:!0,className:"movie"}):o(M,{}),n?o(p.Paragraph,{lineCount:20,animated:!0}):m(c,{children:[o(R,{videoData:u,addDispatch:g}),o(T,{loadMore:L,hasMore:a})]}),o(j,{top:2e3})]})},k=t=>({enterLoading:t.home.enterLoading,videosList:t.home.videosList}),y=t=>({getVideoListDispatch(){t(w())},addDispatch(a){t(N(a))}});var K=v(k,y)(D.memo(P));export{K as default};
