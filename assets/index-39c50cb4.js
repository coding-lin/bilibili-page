import{c as V,R as v,r as s,d as c,F as m,j as o,h as x}from"./index-1f87f03b.js";import{S as d}from"./index-c553d56e.js";import{S as M,V as R}from"./index-3e4ecd53.js";import{N as T,S as j}from"./index-7c8b971b.js";import{g as w,b as N}from"./actionCreators-192af3e3.js";import"./attach-properties-to-component-a2c66ef2.js";import"./popup-0a9f3ee4.js";import"./MoreOutline-379060ab.js";import"./index-ae2775d6.js";import"./dot-loading-c9c6c601.js";import"./index-7e947965.js";import"./index-9637c332.js";import"./request-9f981471.js";const P=t=>{const[a,p]=s.useState(!0),[u,l]=s.useState([]),[i,f]=s.useState(0),{videosList:r,enterLoading:n}=t,{getVideoListDispatch:h,addDispatch:g}=t;s.useEffect(()=>{h()},[]);async function S(){return i>=5?[]:(await x(1e3),f(e=>e+1),r.map(e=>i>=1?{...e,id:e.id+=r.length}:{...e}))}async function L(){const e=await S();l(D=>[...D,...e]),p(e.length>0)}return c(m,{children:[n?o(d,{animated:!0,className:"movie"}):o(M,{}),n?o(d.Paragraph,{lineCount:20,animated:!0}):c(m,{children:[o(R,{videoData:u,addDispatch:g}),o(T,{loadMore:L,hasMore:a})]}),o(j,{top:2e3})]})},k=t=>({enterLoading:t.home.enterLoading,videosList:t.home.videosList}),y=t=>({getVideoListDispatch(){t(w())},addDispatch(a){t(N(a))}}),K=V(k,y)(v.memo(P));export{K as default};
