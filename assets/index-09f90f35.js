import{r as t,c as k,R as D,u as x,n as F,d as s,j as e,o as m,F as b,L as S,T as h}from"./index-fed2dc62.js";import{B as E}from"./index-c71cb603.js";import{S as G}from"./index-70416b51.js";import{c as y,b as O,d as j,e as B}from"./actionCreators-dab3c36d.js";import"./attach-properties-to-component-a2c66ef2.js";import"./popup-e4e026e0.js";import"./request-22dbc0c8.js";function P(a){return t.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a,{style:Object.assign({verticalAlign:"-0.125em"},a.style),className:["antd-mobile-icon",a.className].filter(Boolean).join(" ")}),t.createElement("g",{id:"SendOutline-SendOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t.createElement("g",{id:"SendOutline-编组"},t.createElement("rect",{id:"SendOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),t.createElement("path",{d:"M24.9998666,4.39999998 L24.9991334,6.59900002 C24.9988997,6.81985136 24.8198514,6.99885187 24.599,6.99902667 L10,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L40.9990267,23.4 C40.9989853,23.1790861 41.1780594,22.9999881 41.3989733,22.9999733 C41.3989822,22.9999733 41.3989911,22.9999733 41.399,23 L43.6,23 C43.8209139,23 44,22.8209139 44,22.6 L44,17.4 C44,17.1790861 43.8209139,17 43.6,17 L41.4,17 C41.1791022,16.9999587 41.0000228,16.8208978 40.9999587,16.6 L40.9991652,8.914 L40.9991652,8.914 L26.5653182,23.3488752 C26.4091241,23.5051006 26.1558581,23.5051096 25.9996429,23.3489054 C25.9996395,23.3489021 25.9996362,23.3488987 25.9996429,23.3488853 L24.4440079,21.7932504 C24.2878173,21.6370323 24.2878112,21.3837769 24.4439942,21.2275512 L38.6701652,7 L38.6701652,7 L31.4,7 C31.1790861,7 31,6.8209139 31,6.6 L31,4.4 C31,4.1790861 31.1790861,4 31.4,4 L42.5,4 L42.5,4 C43.3284271,4 44,4.67157288 44,5.5 L44,38 C44,41.3137085 41.3137085,44 38,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L24.6,4 C24.8209139,3.99986664 25,4.17895274 25,4.39986664 C25,4.3999111 25,4.39995556 24.9998666,4.39999998 Z",id:"SendOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}const R=a=>{const{goodList:i,cartGoodsList:n}=a,{getGoodDetailDispatch:g,addDispatch:p,delDispatch:u,addCartDispatch:L}=a,C=x(),{id:l}=F(),[v,c]=t.useState(!1),[d,r]=t.useState(!1),f=async o=>{r(!0),await p(o),h.show({content:"收藏成功",position:"bottom"})},N=o=>{r(!1),u(o)},w=async o=>{await L(o),h.show("加车成功")};return t.useEffect(()=>{g(l)},[]),s("div",{className:"good-detail-wrapper",children:[s("div",{className:"good-detail-header",children:[e("div",{className:"detail-back",children:e("i",{className:"iconfont icon-fanhuijiantou",onClick:()=>C(-1)})}),e("div",{className:"detail-share",children:e(P,{className:"share-icon",onClick:()=>c(!0)})})]}),e("div",{className:"good-detail-img",children:e("img",{src:i.img,alt:""})}),e("div",{className:"good-detail-price",children:s("span",{children:["预估到手价 ¥",i.price]})}),e("div",{className:"good-detail-title",children:e("span",{children:i.title})}),s("div",{className:"good-detail-like",children:[d?e("i",{className:m("iconfont","icon-aixin1","active"),onClick:()=>N(i.id)}):e("i",{className:m("iconfont","icon-aixin3"),onClick:()=>f(i.id)}),e("span",{children:d?i.collection+1:i.collection})]}),i.rank?s("div",{className:"good-detail-rank",children:[e("img",{src:"https://img01.anheyu.com/useruploads/113/2023/04/20/6440dada35066.png",alt:""}),e("span",{children:i.rank})]}):e(b,{}),s("div",{className:"good-detail-bottom",children:[e(S,{to:"/vip/shopping-cart",children:e(E,{color:"rgb(250, 114, 152)",content:n.length>0?n.length:"",style:{"--right":"18%","--top":"18%"},children:e("div",{className:"detail-icon",children:e("i",{className:"iconfont icon-gouwuche"})})})}),e("div",{className:"add-cart",onClick:()=>w(l),children:e("span",{children:"加购物车"})}),e("div",{className:"buy-now",children:e("span",{children:"立即购买"})})]}),e(G,{visible:v,setVisible:c})]})},T=a=>({goodList:a.vip.goodList,cartGoodsList:a.vip.cartGoodsList}),z=a=>({getGoodDetailDispatch(i){a(y(i))},addDispatch(i){a(O(i))},delDispatch(i){a(j(i))},addCartDispatch(i){a(B(i))}}),$=k(T,z)(D.memo(R));export{$ as default};
